<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Comprehensive Invitation Builder Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f5f5f5;
    }
    .test-section {
      background: white;
      margin: 20px 0;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .test-button {
      background: #2196F3;
      color: white;
      border: none;
      padding: 10px 20px;
      margin: 5px;
      border-radius: 4px;
      cursor: pointer;
    }
    .test-button:hover {
      background: #1976D2;
    }
    .test-button.success {
      background: #4CAF50;
    }
    .test-button.error {
      background: #F44336;
    }
    .test-result {
      margin: 10px 0;
      padding: 10px;
      border-radius: 4px;
      font-family: monospace;
    }
    .test-result.success {
      background: #E8F5E8;
      border: 1px solid #4CAF50;
      color: #2E7D32;
    }
    .test-result.error {
      background: #FFEBEE;
      border: 1px solid #F44336;
      color: #C62828;
    }
    .test-result.info {
      background: #E3F2FD;
      border: 1px solid #2196F3;
      color: #1565C0;
    }
  </style>
</head>
<body>
  <h1>ğŸ§ª Comprehensive Invitation Builder Test Suite</h1>
  
  <div class="test-section">
    <h2>ğŸ“ Text System Tests</h2>
    <button class="test-button" onclick="testTextSystem()">Test Text System</button>
    <button class="test-button" onclick="testTextUpdates()">Test Text Updates</button>
    <div id="text-results"></div>
  </div>
  
  <div class="test-section">
    <h2>ğŸ”¤ Font System Tests</h2>
    <button class="test-button" onclick="testFontSystem()">Test Font System</button>
    <button class="test-button" onclick="testGoogleFonts()">Test Google Fonts</button>
    <div id="font-results"></div>
  </div>
  
  <div class="test-section">
    <h2>ğŸ¨ Color System Tests</h2>
    <button class="test-button" onclick="testColorSystem()">Test Color System</button>
    <button class="test-button" onclick="testThemeSystem()">Test Theme System</button>
    <div id="color-results"></div>
  </div>
  
  <div class="test-section">
    <h2>ğŸ–¼ï¸ Background System Tests</h2>
    <button class="test-button" onclick="testBackgroundSystem()">Test Background System</button>
    <button class="test-button" onclick="testTextureSystem()">Test Texture System</button>
    <div id="background-results"></div>
  </div>
  
  <div class="test-section">
    <h2>âœ‚ï¸ Edge System Tests</h2>
    <button class="test-button" onclick="testEdgeSystem()">Test Edge System</button>
    <button class="test-button" onclick="testEdgeEffects()">Test Edge Effects</button>
    <div id="edge-results"></div>
  </div>
  
  <div class="test-section">
    <h2>ğŸ­ Effects System Tests</h2>
    <button class="test-button" onclick="testEffectsSystem()">Test Effects System</button>
    <button class="test-button" onclick="testAnimationSystem()">Test Animation System</button>
    <div id="effects-results"></div>
  </div>
  
  <div class="test-section">
    <h2>âœ¨ Sprite System Tests</h2>
    <button class="test-button" onclick="testSpriteSystem()">Test Sprite System</button>
    <button class="test-button" onclick="testSpriteManagement()">Test Sprite Management</button>
    <div id="sprite-results"></div>
  </div>
  
  <div class="test-section">
    <h2>ğŸ¯ Draggable System Tests</h2>
    <button class="test-button" onclick="testDraggableSystem()">Test Draggable System</button>
    <button class="test-button" onclick="testObjectRegistry()">Test Object Registry</button>
    <div id="draggable-results"></div>
  </div>
  
  <div class="test-section">
    <h2>ğŸš€ Full System Test</h2>
    <button class="test-button" onclick="runFullSystemTest()">Run Complete Test Suite</button>
    <div id="full-results"></div>
  </div>

  <script>
    // Utility functions
    function logResult(containerId, message, type = 'info') {
      const container = document.getElementById(containerId);
      const resultDiv = document.createElement('div');
      resultDiv.className = `test-result ${type}`;
      resultDiv.textContent = `${new Date().toLocaleTimeString()}: ${message}`;
      container.appendChild(resultDiv);
    }
    
    function clearResults(containerId) {
      document.getElementById(containerId).innerHTML = '';
    }
    
    // Test functions
    function testTextSystem() {
      clearResults('text-results');
      logResult('text-results', 'ğŸ§ª Testing text system...', 'info');
      
      try {
        // Test if text elements exist
        const textElements = ['title', 'names', 'date', 'time', 'location', 'rsvp'];
        const missingElements = [];
        
        textElements.forEach(id => {
          if (!document.getElementById(id)) {
            missingElements.push(id);
          }
        });
        
        if (missingElements.length === 0) {
          logResult('text-results', 'âœ… All text input elements found', 'success');
        } else {
          logResult('text-results', `âŒ Missing text elements: ${missingElements.join(', ')}`, 'error');
        }
        
        // Test text update function
        if (typeof updateText === 'function') {
          logResult('text-results', 'âœ… updateText function exists', 'success');
        } else {
          logResult('text-results', 'âŒ updateText function not found', 'error');
        }
        
      } catch (error) {
        logResult('text-results', `âŒ Text system test failed: ${error.message}`, 'error');
      }
    }
    
    function testTextUpdates() {
      logResult('text-results', 'ğŸ”„ Testing text updates...', 'info');
      
      try {
        if (typeof updateText === 'function') {
          updateText();
          logResult('text-results', 'âœ… Text update function executed successfully', 'success');
        } else {
          logResult('text-results', 'âŒ Cannot test text updates - function not found', 'error');
        }
      } catch (error) {
        logResult('text-results', `âŒ Text update test failed: ${error.message}`, 'error');
      }
    }
    
    function testFontSystem() {
      clearResults('font-results');
      logResult('font-results', 'ğŸ§ª Testing font system...', 'info');
      
      try {
        // Test font select elements
        const fontElements = ['font-title', 'font-names', 'font-body'];
        const missingFontElements = [];
        
        fontElements.forEach(id => {
          if (!document.getElementById(id)) {
            missingFontElements.push(id);
          }
        });
        
        if (missingFontElements.length === 0) {
          logResult('font-results', 'âœ… All font select elements found', 'success');
        } else {
          logResult('font-results', `âŒ Missing font elements: ${missingFontElements.join(', ')}`, 'error');
        }
        
        // Test updateFonts function
        if (typeof updateFonts === 'function') {
          logResult('font-results', 'âœ… updateFonts function exists', 'success');
        } else {
          logResult('font-results', 'âŒ updateFonts function not found', 'error');
        }
        
      } catch (error) {
        logResult('font-results', `âŒ Font system test failed: ${error.message}`, 'error');
      }
    }
    
    function testGoogleFonts() {
      logResult('font-results', 'ğŸ”¤ Testing Google Fonts...', 'info');
      
      try {
        const gfontsLink = document.getElementById('gfonts');
        if (gfontsLink && gfontsLink.href.includes('fonts.googleapis.com')) {
          logResult('font-results', 'âœ… Google Fonts link found and valid', 'success');
          
          if (typeof updateFonts === 'function') {
            updateFonts();
            logResult('font-results', 'âœ… Font update function executed successfully', 'success');
          } else {
            logResult('font-results', 'âŒ Cannot test font updates - function not found', 'error');
          }
        } else {
          logResult('font-results', 'âŒ Google Fonts link not found or invalid', 'error');
        }
      } catch (error) {
        logResult('font-results', `âŒ Google Fonts test failed: ${error.message}`, 'error');
      }
    }
    
    function testColorSystem() {
      clearResults('color-results');
      logResult('color-results', 'ğŸ§ª Testing color system...', 'info');
      
      try {
        // Test color input elements
        const colorElements = ['accent', 'accent2'];
        const missingColorElements = [];
        
        colorElements.forEach(id => {
          if (!document.getElementById(id)) {
            missingColorElements.push(id);
          }
        });
        
        if (missingColorElements.length === 0) {
          logResult('color-results', 'âœ… All color input elements found', 'success');
        } else {
          logResult('color-results', `âŒ Missing color elements: ${missingColorElements.join(', ')}`, 'error');
        }
        
        // Test theme system
        if (typeof setTheme === 'function') {
          logResult('color-results', 'âœ… setTheme function exists', 'success');
        } else {
          logResult('color-results', 'âŒ setTheme function not found', 'error');
        }
        
      } catch (error) {
        logResult('color-results', `âŒ Color system test failed: ${error.message}`, 'error');
      }
    }
    
    function testThemeSystem() {
      logResult('color-results', 'ğŸ¨ Testing theme system...', 'info');
      
      try {
        if (typeof setTheme === 'function') {
          const categorySelect = document.getElementById('category');
          if (categorySelect) {
            setTheme(categorySelect.value);
            logResult('color-results', 'âœ… Theme system executed successfully', 'success');
          } else {
            logResult('color-results', 'âŒ Category select not found', 'error');
          }
        } else {
          logResult('color-results', 'âŒ Cannot test theme system - function not found', 'error');
        }
      } catch (error) {
        logResult('color-results', `âŒ Theme system test failed: ${error.message}`, 'error');
      }
    }
    
    function testBackgroundSystem() {
      clearResults('background-results');
      logResult('background-results', 'ğŸ§ª Testing background system...', 'info');
      
      try {
        // Test background mode select
        const bgModeSelect = document.getElementById('bg-mode');
        if (bgModeSelect) {
          logResult('background-results', 'âœ… Background mode select found', 'success');
        } else {
          logResult('background-results', 'âŒ Background mode select not found', 'error');
        }
        
        // Test applyBackground function
        if (typeof applyBackground === 'function') {
          logResult('background-results', 'âœ… applyBackground function exists', 'success');
        } else {
          logResult('background-results', 'âŒ applyBackground function not found', 'error');
        }
        
      } catch (error) {
        logResult('background-results', `âŒ Background system test failed: ${error.message}`, 'error');
      }
    }
    
    function testTextureSystem() {
      logResult('background-results', 'ğŸ–¼ï¸ Testing texture system...', 'info');
      
      try {
        if (typeof applyBackground === 'function') {
          applyBackground();
          logResult('background-results', 'âœ… Background system executed successfully', 'success');
        } else {
          logResult('background-results', 'âŒ Cannot test background system - function not found', 'error');
        }
      } catch (error) {
        logResult('background-results', `âŒ Texture system test failed: ${error.message}`, 'error');
      }
    }
    
    function testEdgeSystem() {
      clearResults('edge-results');
      logResult('edge-results', 'ğŸ§ª Testing edge system...', 'info');
      
      try {
        // Test edge style select
        const edgeStyleSelect = document.getElementById('edge-style');
        if (edgeStyleSelect) {
          logResult('edge-results', 'âœ… Edge style select found', 'success');
        } else {
          logResult('edge-results', 'âŒ Edge style select not found', 'error');
        }
        
        // Test updateEdgeEffects function
        if (typeof updateEdgeEffects === 'function') {
          logResult('edge-results', 'âœ… updateEdgeEffects function exists', 'success');
        } else {
          logResult('edge-results', 'âŒ updateEdgeEffects function not found', 'error');
        }
        
      } catch (error) {
        logResult('edge-results', `âŒ Edge system test failed: ${error.message}`, 'error');
      }
    }
    
    function testEdgeEffects() {
      logResult('edge-results', 'âœ‚ï¸ Testing edge effects...', 'info');
      
      try {
        if (typeof updateEdgeEffects === 'function') {
          updateEdgeEffects();
          logResult('edge-results', 'âœ… Edge effects executed successfully', 'success');
        } else {
          logResult('edge-results', 'âŒ Cannot test edge effects - function not found', 'error');
        }
      } catch (error) {
        logResult('edge-results', `âŒ Edge effects test failed: ${error.message}`, 'error');
      }
    }
    
    function testEffectsSystem() {
      clearResults('effects-results');
      logResult('effects-results', 'ğŸ§ª Testing effects system...', 'info');
      
      try {
        // Test effects functions
        const effectsFunctions = ['setLayout', 'setEffect', 'setupParallax'];
        const missingFunctions = [];
        
        effectsFunctions.forEach(funcName => {
          if (typeof window[funcName] !== 'function') {
            missingFunctions.push(funcName);
          }
        });
        
        if (missingFunctions.length === 0) {
          logResult('effects-results', 'âœ… All effects functions found', 'success');
        } else {
          logResult('effects-results', `âŒ Missing effects functions: ${missingFunctions.join(', ')}`, 'error');
        }
        
      } catch (error) {
        logResult('effects-results', `âŒ Effects system test failed: ${error.message}`, 'error');
      }
    }
    
    function testAnimationSystem() {
      logResult('effects-results', 'ğŸ­ Testing animation system...', 'info');
      
      try {
        if (typeof setLayout === 'function' && typeof setEffect === 'function' && typeof setupParallax === 'function') {
          setLayout();
          setEffect();
          setupParallax();
          logResult('effects-results', 'âœ… Animation system executed successfully', 'success');
        } else {
          logResult('effects-results', 'âŒ Cannot test animation system - functions not found', 'error');
        }
      } catch (error) {
        logResult('effects-results', `âŒ Animation system test failed: ${error.message}`, 'error');
      }
    }
    
    function testSpriteSystem() {
      clearResults('sprite-results');
      logResult('sprite-results', 'ğŸ§ª Testing sprite system...', 'info');
      
      try {
        // Test sprite functions
        if (typeof updateSprites === 'function') {
          logResult('sprite-results', 'âœ… updateSprites function exists', 'success');
        } else {
          logResult('sprite-results', 'âŒ updateSprites function not found', 'error');
        }
        
        if (typeof drawSprites === 'function') {
          logResult('sprite-results', 'âœ… drawSprites function exists', 'success');
        } else {
          logResult('sprite-results', 'âŒ drawSprites function not found', 'error');
        }
        
      } catch (error) {
        logResult('sprite-results', `âŒ Sprite system test failed: ${error.message}`, 'error');
      }
    }
    
    function testSpriteManagement() {
      logResult('sprite-results', 'âœ¨ Testing sprite management...', 'info');
      
      try {
        if (typeof updateSprites === 'function') {
          updateSprites();
          logResult('sprite-results', 'âœ… Sprite management executed successfully', 'success');
        } else {
          logResult('sprite-results', 'âŒ Cannot test sprite management - function not found', 'error');
        }
      } catch (error) {
        logResult('sprite-results', `âŒ Sprite management test failed: ${error.message}`, 'error');
      }
    }
    
    function testDraggableSystem() {
      clearResults('draggable-results');
      logResult('draggable-results', 'ğŸ§ª Testing draggable system...', 'info');
      
      try {
        // Test draggable functions
        if (typeof makeSpriteDraggable === 'function') {
          logResult('draggable-results', 'âœ… makeSpriteDraggable function exists', 'success');
        } else {
          logResult('draggable-results', 'âŒ makeSpriteDraggable function not found', 'error');
        }
        
        if (typeof makeElementDraggable === 'function') {
          logResult('draggable-results', 'âœ… makeElementDraggable function exists', 'success');
        } else {
          logResult('draggable-results', 'âŒ makeElementDraggable function not found', 'error');
        }
        
      } catch (error) {
        logResult('draggable-results', `âŒ Draggable system test failed: ${error.message}`, 'error');
      }
    }
    
    function testObjectRegistry() {
      logResult('draggable-results', 'ğŸ¯ Testing object registry...', 'info');
      
      try {
        if (window.objectRegistry) {
          logResult('draggable-results', 'âœ… Object registry exists', 'success');
        } else {
          logResult('draggable-results', 'âŒ Object registry not found', 'error');
        }
      } catch (error) {
        logResult('draggable-results', `âŒ Object registry test failed: ${error.message}`, 'error');
      }
    }
    
    function runFullSystemTest() {
      clearResults('full-results');
      logResult('full-results', 'ğŸš€ Starting comprehensive system test...', 'info');
      
      // Run all tests
      setTimeout(() => testTextSystem(), 100);
      setTimeout(() => testFontSystem(), 200);
      setTimeout(() => testColorSystem(), 300);
      setTimeout(() => testBackgroundSystem(), 400);
      setTimeout(() => testEdgeSystem(), 500);
      setTimeout(() => testEffectsSystem(), 600);
      setTimeout(() => testSpriteSystem(), 700);
      setTimeout(() => testDraggableSystem(), 800);
      
      setTimeout(() => {
        logResult('full-results', 'ğŸ‰ Comprehensive test suite completed!', 'success');
        logResult('full-results', 'ğŸ“Š Check individual test results above for detailed status', 'info');
      }, 1000);
    }
    
    // Auto-run basic tests when page loads
    window.addEventListener('load', () => {
      logResult('full-results', 'ğŸ”„ Page loaded, ready for testing', 'info');
    });
  </script>
</body>
</html>
