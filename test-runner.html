<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Invitation Generator Test Suite</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .test-controls {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }
    .test-btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    .test-btn.primary {
      background: #4CAF50;
      color: white;
    }
    .test-btn.secondary {
      background: #2196F3;
      color: white;
    }
    .test-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    .results {
      background: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      min-height: 400px;
    }
    .results h3 {
      margin-top: 0;
      color: #333;
    }
    .test-categories {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    .category-card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      border-left: 4px solid #4CAF50;
    }
    .category-card h4 {
      margin-top: 0;
      color: #333;
    }
    .category-card p {
      color: #666;
      margin-bottom: 15px;
    }
    .progress-bar {
      width: 100%;
      height: 8px;
      background: #e0e0e0;
      border-radius: 4px;
      overflow: hidden;
      margin-top: 10px;
    }
    .progress-fill {
      height: 100%;
      background: #4CAF50;
      width: 0%;
      transition: width 0.3s ease;
    }
    .status {
      font-size: 14px;
      font-weight: 600;
      margin-top: 10px;
    }
    .status.pending { color: #FF9800; }
    .status.running { color: #2196F3; }
    .status.completed { color: #4CAF50; }
    .status.failed { color: #F44336; }
  </style>
</head>
<body>
  <div class="header">
    <h1>ğŸ§ª Invitation Generator Test Suite</h1>
    <p>Comprehensive testing framework for all invitation generator functionality</p>
  </div>

  <div class="test-categories">
    <div class="category-card">
      <h4>ğŸ“‹ Unit Tests</h4>
      <p>Individual component testing for text, themes, textures, sprites, layouts, animations, and fonts</p>
      <div class="progress-bar">
        <div class="progress-fill" id="unit-progress"></div>
      </div>
      <div class="status pending" id="unit-status">Pending</div>
    </div>
    
    <div class="category-card">
      <h4>ğŸ”— Integration Tests</h4>
      <p>Cross-component testing for theme-sprite, background mode, font-layout, and animation-parallax integration</p>
      <div class="progress-bar">
        <div class="progress-fill" id="integration-progress"></div>
      </div>
      <div class="status pending" id="integration-status">Pending</div>
    </div>
    
    <div class="category-card">
      <h4>ğŸŒ End-to-End Tests</h4>
      <p>Complete workflow testing from user interaction to final output generation</p>
      <div class="progress-bar">
        <div class="progress-fill" id="e2e-progress"></div>
      </div>
      <div class="status pending" id="e2e-status">Pending</div>
    </div>
    
    <div class="category-card">
      <h4>âš¡ Performance Tests</h4>
      <p>Rendering performance, memory usage, and responsiveness testing</p>
      <div class="progress-bar">
        <div class="progress-fill" id="performance-progress"></div>
      </div>
      <div class="status pending" id="performance-status">Pending</div>
    </div>
  </div>

  <div class="test-controls">
    <button class="test-btn primary" id="run-all-tests">ğŸš€ Run All Tests</button>
    <button class="test-btn secondary" id="run-unit-tests">ğŸ“‹ Unit Tests Only</button>
    <button class="test-btn secondary" id="run-integration-tests">ğŸ”— Integration Tests Only</button>
    <button class="test-btn secondary" id="run-e2e-tests">ğŸŒ E2E Tests Only</button>
    <button class="test-btn secondary" id="run-performance-tests">âš¡ Performance Tests Only</button>
    <button class="test-btn" id="clear-results">ğŸ—‘ï¸ Clear Results</button>
  </div>

  <div class="results">
    <h3>Test Results</h3>
    <div id="test-output">
      <p>Click "Run All Tests" to start the comprehensive test suite...</p>
    </div>
  </div>

  <script src="tests.js"></script>
  <script>
    // Test runner controller
    class TestRunnerController {
      constructor() {
        this.testSuite = null;
        this.isRunning = false;
        this.setupEventListeners();
        this.updateStatus('unit', 'pending');
        this.updateStatus('integration', 'pending');
        this.updateStatus('e2e', 'pending');
        this.updateStatus('performance', 'pending');
      }

      setupEventListeners() {
        document.getElementById('run-all-tests').addEventListener('click', () => this.runAllTests());
        document.getElementById('run-unit-tests').addEventListener('click', () => this.runUnitTests());
        document.getElementById('run-integration-tests').addEventListener('click', () => this.runIntegrationTests());
        document.getElementById('run-e2e-tests').addEventListener('click', () => this.runEndToEndTests());
        document.getElementById('run-performance-tests').addEventListener('click', () => this.runPerformanceTests());
        document.getElementById('clear-results').addEventListener('click', () => this.clearResults());
      }

      async runAllTests() {
        if (this.isRunning) return;
        this.isRunning = true;
        this.clearResults();
        this.updateAllStatuses('running');
        
        try {
          this.testSuite = new window.InvitationGeneratorTests();
          await this.testSuite.runAllTests();
          this.updateAllStatuses('completed');
          this.displayResults();
        } catch (error) {
          console.error('Test execution failed:', error);
          this.updateAllStatuses('failed');
          this.displayError(error);
        } finally {
          this.isRunning = false;
        }
      }

      async runUnitTests() {
        if (this.isRunning) return;
        this.isRunning = true;
        this.clearResults();
        this.updateStatus('unit', 'running');
        
        try {
          this.testSuite = new window.InvitationGeneratorTests();
          await this.testSuite.runUnitTests();
          this.updateStatus('unit', 'completed');
          this.displayResults();
        } catch (error) {
          console.error('Unit tests failed:', error);
          this.updateStatus('unit', 'failed');
          this.displayError(error);
        } finally {
          this.isRunning = false;
        }
      }

      async runIntegrationTests() {
        if (this.isRunning) return;
        this.isRunning = true;
        this.clearResults();
        this.updateStatus('integration', 'running');
        
        try {
          this.testSuite = new window.InvitationGeneratorTests();
          await this.testSuite.runIntegrationTests();
          this.updateStatus('integration', 'completed');
          this.displayResults();
        } catch (error) {
          console.error('Integration tests failed:', error);
          this.updateStatus('integration', 'failed');
          this.displayError(error);
        } finally {
          this.isRunning = false;
        }
      }

      async runEndToEndTests() {
        if (this.isRunning) return;
        this.isRunning = true;
        this.clearResults();
        this.updateStatus('e2e', 'running');
        
        try {
          this.testSuite = new window.InvitationGeneratorTests();
          await this.testSuite.runEndToEndTests();
          this.updateStatus('e2e', 'completed');
          this.displayResults();
        } catch (error) {
          console.error('E2E tests failed:', error);
          this.updateStatus('e2e', 'failed');
          this.displayError(error);
        } finally {
          this.isRunning = false;
        }
      }

      async runPerformanceTests() {
        if (this.isRunning) return;
        this.isRunning = true;
        this.clearResults();
        this.updateStatus('performance', 'running');
        
        try {
          this.testSuite = new window.InvitationGeneratorTests();
          await this.testSuite.runPerformanceTests();
          this.updateStatus('performance', 'completed');
          this.displayResults();
        } catch (error) {
          console.error('Performance tests failed:', error);
          this.updateStatus('performance', 'failed');
          this.displayError(error);
        } finally {
          this.isRunning = false;
        }
      }

      updateStatus(category, status) {
        const statusElement = document.getElementById(`${category}-status`);
        const progressElement = document.getElementById(`${category}-progress`);
        
        if (statusElement && progressElement) {
          statusElement.textContent = status.charAt(0).toUpperCase() + status.slice(1);
          statusElement.className = `status ${status}`;
          
          if (status === 'completed') {
            progressElement.style.width = '100%';
          } else if (status === 'running') {
            progressElement.style.width = '50%';
          } else if (status === 'failed') {
            progressElement.style.width = '100%';
            progressElement.style.background = '#F44336';
          } else {
            progressElement.style.width = '0%';
          }
        }
      }

      updateAllStatuses(status) {
        ['unit', 'integration', 'e2e', 'performance'].forEach(category => {
          this.updateStatus(category, status);
        });
      }

      displayResults() {
        if (!this.testSuite) return;
        
        const output = document.getElementById('test-output');
        const results = this.testSuite.testResults;
        
        let html = '<h4>Test Results Summary</h4>';
        html += `<p><strong>Total Tests:</strong> ${this.testSuite.total}</p>`;
        html += `<p><strong>Passed:</strong> <span style="color: #4CAF50;">${this.testSuite.passed}</span></p>`;
        html += `<p><strong>Failed:</strong> <span style="color: #F44336;">${this.testSuite.failed}</span></p>`;
        html += `<p><strong>Success Rate:</strong> ${((this.testSuite.passed / this.testSuite.total) * 100).toFixed(1)}%</p>`;
        
        if (this.testSuite.failed > 0) {
          html += '<h4>Failed Tests:</h4><ul>';
          results.filter(r => r.status === 'FAIL').forEach(result => {
            html += `<li><strong>${result.name}:</strong> ${result.details}</li>`;
          });
          html += '</ul>';
        }
        
        html += '<h4>All Test Results:</h4><ul>';
        results.forEach(result => {
          const color = result.status === 'PASS' ? '#4CAF50' : '#F44336';
          const icon = result.status === 'PASS' ? 'âœ…' : 'âŒ';
          html += `<li style="color: ${color};">${icon} <strong>${result.name}:</strong> ${result.details}</li>`;
        });
        html += '</ul>';
        
        output.innerHTML = html;
      }

      displayError(error) {
        const output = document.getElementById('test-output');
        output.innerHTML = `
          <h4 style="color: #F44336;">Test Execution Failed</h4>
          <p><strong>Error:</strong> ${error.message}</p>
          <p><strong>Stack:</strong></p>
          <pre style="background: #f5f5f5; padding: 10px; border-radius: 5px; overflow-x: auto;">${error.stack}</pre>
        `;
      }

      clearResults() {
        document.getElementById('test-output').innerHTML = '<p>Click "Run All Tests" to start the comprehensive test suite...</p>';
        this.updateAllStatuses('pending');
      }
    }

    // Initialize test runner when page loads
    document.addEventListener('DOMContentLoaded', () => {
      new TestRunnerController();
    });
  </script>
</body>
</html>

